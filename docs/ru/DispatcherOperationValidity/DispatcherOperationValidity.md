# SearchEngine
Документация SearchEngine

### [Оглавление](../index.md)

## Класс DispatcherOperationValidity
Класс реализует диспетчер операций c файлами и JSON-объектами.\
Логирование операций при наличии ошибок происходит именно в этом классе. В вызывающей функции логировать не надо.\
Если требуется логирование в любом случае - тогда надо логировать при вызове операции (пока сделано так, но надо предусмотреть и эту возможность).
### Выполняет следующие функции:
1. Читает/записывает текстовый файл.
2. Читает/записывает JSON-файл.
5. Проверяет JSON-объект (при чтениии файла) на целостность структуры.
6. Проверяет JSON-объект на соотвествие структуры шаблону.
7. Проверяет файл на существование.
8. Проверяет файл на возможность открытия при чтении/записи.
9. Проверяет файл на возникновение ошибок чтения/записи.
10. Проверяет на пустоту массивы путей файлов и запросов JSON-объектов.
11. В соответствии с уровнем логирования при наличии ошибки выбрасывает исключение и/или логирует в журнал. 
### Конструкторы:
```cpp
DispatcherOperationValidity() = delete;
```
Отсутствуют. Класс имеет только статические функции-члены. 
### Общедоступные функции-члены:
#### Записать JSON-файл:
```cpp
static ErrorCode writeJSONFile(const std::string &filePath, const JSON &objectJSON, const int formatByWidth = 2,
                                   ErrorLevel errorLevel = ErrorLevel::no_level, const std::string &message = "",
                                   const boost::source_location &callingFunction = BOOST_CURRENT_LOCATION);
```
Параметры: ссылка на путь JSON-файла, ссылка на JSON-объект для записи, ширина отступа, уровень логирования, ссылка на сообщение, ссылка на вызывающую функцию.\
Возвращаемое значение: код ошибки.

### Примеры
```cpp
#include "readTextFile.h"

int main()
{
    //...
    //Получить cписок путей документов (filePaths)
    //...

    //Прочитать документы в отдельных потоках
    std::vector<std::string> documents{ReadTextFile::readTextFile(filePaths)};
}
```
