# SearchEngine
Документация SearchEngine

### [Оглавление](../index.md)

## Класс InvertedIndex
Класс реализует инвертированную индексацию документов.
### Выполняет следующие функции:
1. Очищает базу инвертированных индексов.
2. Запускает инвертированную индексацию документов в отдельных потоках.
3. Хранит базу инвертированных индексов.
4. Предоставляет ссылку на базу инвертированных индексов.
### Инвертированный индекс
Программа использует инвертированную индексацию для подсчёта встречаемости слов в документах. Инвертированный индекс - это список структур (в программе используется структура Entry), соответствующий каждому слову в базе документов. Сама структура представляет два поля: идентификатор документа и количество вхождений слова в этом документе. Набор слов и соответствующих списков таких структур представляет базу инвертированных индексов.\
Пример. Два документа состоят из слов: {milk milk milk lemon water water water}, {milk milk lemon milk milk water water lemon water water}.\
База будет представлять следующее:
| Слово | Entry  | Entry  |
|-------|--------|--------|
| lemon | {0, 1} | {1, 2} |
| milk  | {0, 3} | {1, 4} |
| water | {0, 3} | {1, 4} |

По этой базе осуществляется поиск по запросам.
### Конструкторы:
Инициализирует ссылку на базу документов.
```cpp
explicit InvertedIndex(const std::vector<std::string>& in_documents) : documents{in_documents} {}
```
Не является копируемым и перемещаемым (содержит мьютекс).
### Общедоступные функции-члены:
#### Обновить базу инвертированных индексов:
```cpp
void updateInvertedIndexes();
```
#### Получить ссылку на базу инвертированных индексов:
```cpp
const std::map<std::string, std::vector<Entry>>& getInvertedIndexes();
```
Возвращаемое значение: ссылка на базу инвертированных индексов
### Примеры
```cpp
#include "invertedIndex.h"

int main()
{
    //...
    //Получить ссылку на базу документов (in_documents)
    //

    //Создать объект класса InvertedIndex
    InvertedIndex invertedIndexObj(in_documents);
    //Обновить базу инвертированных индексов
    invertedIndexObj.updateInvertedIndexes();
    //Получить ссылку на базу инвертированных индексов
    const std::map<std::string, std::vector<Entry>>& invertedIndexes{invertedIndexObj.getInvertedIndexes()};
}
```
